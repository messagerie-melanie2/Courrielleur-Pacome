<!DOCTYPE html>
<html>
<head>
  <!-- Include CSS stylesheets -->
  <link rel="stylesheet" type="text/css" href="chrome://global/skin/">
  <link rel="stylesheet" type="text/css" href="chrome://pacome/content/pacome.css">
</head>
<body>
  <!-- Main XUL overlay -->
  <xul-overlay href="chrome://courrielleur/content/ministeresOverlay.xul"></xul-overlay>

  <!-- Main window definition -->
  <div id="pacome" class="pacome" windowtype="pacome:assistant" title="&pacome.titre;"
       xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
       onload="InitAssistant();" onunload="FermeAssistant()">

    <!-- Include JavaScript scripts -->
    <script type="application/javascript" src="chrome://pacome/content/pacomeutils.js"></script>
    <script type="application/javascript" src="chrome://pacome/content/pacomeparam.js"></script>
    <script type="application/javascript" src="chrome://pacome/content/pacomemaj.js"></script>
    <script type="application/javascript" src="chrome://pacome/content/pacome-proxy.js"></script>
    <script type="application/javascript" src="chrome://pacome/content/pacomeflux.js"></script>
    <script type="application/javascript" src="chrome://pacome/content/pacomereq.js"></script>
    <script type="application/javascript" src="chrome://pacome/content/pacomecompte.js"></script>
    <script type="application/javascript" src="chrome://pacome/content/pacomeassist.js"></script>
    <script type="application/javascript" src="chrome://pacome/content/pacomeimg.js"></script>
    <script type="application/javascript" src="chrome://pacome/content/pacomecalp.js"></script>
    <script type="application/javascript" src="chrome://pacome/content/pacomecats.js"></script>
    <script type="application/javascript" src="chrome://messenger/content/mailCommands.js"></script>
    <script type="application/javascript" src="chrome://global/content/globalOverlay.js"></script>
    <script type="application/javascript" src="chrome://messenger-newsblog/content/utils.js"></script>
    <script type="application/javascript" src="chrome://messenger-newsblog/content/file-utils.js"></script>
    <script type="application/javascript" src="chrome://messenger-newsblog/content/Feed.js"></script>
    <script type="application/javascript" src="chrome://messenger-newsblog/content/feed-parser.js"></script>
    <script type="application/javascript" src="chrome://messenger-newsblog/content/FeedItem.js"></script>

    <!-- Keyset for keyboard shortcuts -->
    <keyset id="keys">
      <key keycode="VK_ESCAPE" oncommand="btQuitter();"/>
    </keyset>

    <!-- Header (bandeau) -->
    <div id="bandeau" class="bandeau">
      <description id="bandeau-titre" class="bandeau-titre"></description>
    </div>

    <!-- Popupset for tooltips -->
    <div id="tooltip_comptes"></div>

    <!-- Central space (espace central) -->
    <div id="pacome_zone" class="pacome_zone" flex="1">
      <hr/>
      <!-- Text elements (elements de texte) -->
      <description id="pacome.texte1" class="pacometexte"> </description>
      <description id="pacome.texte2" class="pacometexte"> </description>

      <!-- Home page (page d'accueil) -->
      <div id="PageAcc" hidden="true" flex="1"></div>

      <!-- Identifier input page (page saisie identifiant) -->
      <fieldset id="PageUid" hidden="true" flex="1">
        <legend>Identifiant</legend>
        <div>
          <input id="pacomeuid" flex="1" value="" oninput="onSaisieUid();" maxlength="64"/>
        </div>
      </fieldset>

      <!-- Identifier management page (page gestion des identifiants) -->
      <fieldset id="PageIdents" hidden="true" flex="1">
        <legend>&pacome.libnom;</legend>
        <div>
          <select id="pacomeuids" size="2" flex="1" onselect="SelectionIdents();"></select>
          <div>
            <div></div>
            <button> Ajouter </button>
            <button id="btSupprimeIdent" label="Supprimer" disabled="true" oncommand="btSupprimeIdent();"></button>
            <div></div>
          </div>
        </div>
      </fieldset>

      <!-- Account configuration page (page parametrage des boites) -->
      <fieldset id="PageComptes" hidden="true" flex="1">
        <legend>&pacome.comptes.libboites;</legend>
        <!-- Grid for displaying accounts (grille pour affichage des comptes) -->
        <select id="pacome-listecompte" disableKeyNavigation="true" flex="1"></select>
      </fieldset>

      <!-- Calendar configuration page (page parametrage des agendas) -->
      <fieldset id="PageCals" hidden="true" flex="1">
        <legend>&pacome.cal.libcals;</legend>
        <!-- Grid for displaying calendars (grille pour affichage des agendas) -->
        <select id="pacome-listecal" disableKeyNavigation="true" flex="1"></select>
      </fieldset>

      <!-- Other applications, directories, and feeds configuration page (page parametrage application annuaires et flux) -->
      <fieldset id="PageAutres" hidden="true" flex="1">
        <select id="pacome-autres" disableKeyNavigation="true" flex="1"></select>
      </fieldset>

      <!-- End page (page de fin) -->
      <div id="PageFin" hidden="true" flex="1">
        <!--<div id="pacome-op" flex="3">-->
          <description class="pacomepar-lib">&pacome.resume;</description>
          <select id="pacomepar-liste" disableKeyNavigation="true" flex="1"></select>
        <!--</div>-->
      </div>

    </div>

    <!-- Help link (lien d'aide) -->
    <div class="pacome_zone">
      <description flex="1">&pacome.texteAide;
      <label id="pacome.lienaide" class="pacome-url" value="&pacome.AideLigne;" onclick="PacomeOuvreLienPref('pacome.aideparametrage');"/>
      </description>
    </div>

    <div class="pacome_zone">
      <div id="infosapropos"></div>
    </div>

    <hr/>

    <!-- Button area (zone des boutons) -->
    <div class="pacome-zonebt" align="right" id="zonebt">
      <button id="pacome.btRetour" label="&pacome.btRetour;" oncommand="btPagePrecedente();" accesskey="R"/>
      <button id="pacome.btSuivant" label="&pacome.btSuivant;" oncommand="btPageSuivante();" accesskey="C"/>
      <button id="pacome.btQuitter" label="&pacome.btQuitter;" oncommand="btQuitter();" accesskey="Q"/>
    </div>

  </div>
  
	<script>
		// Load translations from translations.json file
		fetch(chrome.extension.getURL('chrome/fr/locale/fr/pacome/pacome.json'))
			.then(response => response.json())
			.then(translations => {
				// Update the UI with the translated strings
				/*document.title = translations['pacomemdp.titre'];
				document.getElementById('bandeau-titre').textContent = translations['pacomechgmdp-titre'];
				document.getElementById('pacomechgmdp.texte1').textContent = translations['pacomemdp.mdp'];*/
				// TODO end this for the file
			})
			.catch(error => console.error('Error loading translations:', error));
	</script>
  
</body>
</html>