<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="chrome://global/skin/">
  <link rel="stylesheet" type="text/css" href="chrome://pacome/content/pacome.css">
</head>
<body>
  <div class="pacomemsg" onload="InitPacomeMsg();">
    <script type="text/javascript" src="chrome://pacome/content/pacomemsg.js"></script>
    <script type="text/javascript" src="chrome://pacome/content/pacomeassist.js"></script>
    <script type="text/javascript" src="chrome://pacome/content/pacomeutils.js"></script>

    <keyset id="keys">
      <key keycode="VK_ESCAPE" oncommand="Annuler();"/>
      <key keycode="VK_RETURN" oncommand="Valider();"/>
    </keyset>

    <div class="bandeau">
      <p id="bandeau-titre" class="bandeau-titre"> </p>
    </div>

    <div class="pacomemsg-texte">
      <p id="pacomemsg.texte"> </p>
      <p id="pacomemsg.texte2"> </p>
    </div>

    <!-- zone des boutons -->
    <div style="text-align: center;">
      <button id="btOUI" label="&pacome.btOUI;" onclick="Valider();"></button>
      <button id="btNON" label="&pacome.btNON;" onclick="Annuler();"></button>
      <button id="btOk" label="&pacome.btOk;" onclick="Valider();" accesskey="&pacome.btOk.key;"></button>
    </div>
  </div>

  <div id="pacomesaisie" onload="InitPacomeSaisie();">
    <script type="text/javascript" src="chrome://pacome/content/pacomeutils.js"></script>
    <script type="text/javascript" src="chrome://pacome/content/pacomesaisie.js"></script>

    <keyset id="keys">
      <key keycode="VK_ESCAPE" oncommand="btAnnuler();"/>
      <key keycode="VK_RETURN" oncommand="btValider();"/>
    </keyset>

    <div class="bandeau">
      <p id="bandeau-titre" class="bandeau-titre"> </p>
    </div>

    <div>
      <p id="pacometexte" class="pacometexte"> </p>
    </div>

    <!-- espace central -->
    <div class="pacome_zone" flex="1">
      <div flex="1">
        <!-- zone de saisie -->
        <table style="width: 100%;">
          <tr>
            <td><label id="libelle" value=""></label></td>
            <td><input id="valeur" value="" style="width: 100%;" oninput="ValideSaisie();"></td>
          </tr>
        </table>
      </div>
    </div>

    <!-- zone des boutons -->
    <hr>
    <div style="text-align: right;">
      <button id="pacome.btValider" label="&pacome.btValider;" onclick="btValider();" accesskey="&pacome.btValider.cle;"></button>
      <button id="pacome.btAnnuler" label="&pacome.btAnnuler;" onclick="btAnnuler();" accesskey="&pacome.btAnnuler.cle;"></button>
    </div>
  </div>
  
  <script>
		// Load translations from translations.json file
		fetch(chrome.extension.getURL('chrome/fr/locale/fr/pacome/pacome.json'))
			.then(response => response.json())
			.then(translations => {
				// Update the UI with the translated strings
				/*document.title = translations['pacomemdp.titre'];
				document.getElementById('bandeau-titre').textContent = translations['pacomechgmdp-titre'];
				document.getElementById('pacomechgmdp.texte1').textContent = translations['pacomemdp.mdp'];*/
				// TODO end this for the file
			})
			.catch(error => console.error('Error loading translations:', error));
	</script>
  
</body>
</html>